
<!DOCTYPE html>
<html>
<head>
    <title>NORTHSTAR ENGINES: STUDIO SHOWCASE</title>
    <style>body { margin: 0; background: radial-gradient(circle at center, #333333 0%, #111111 100%); color: #fff; font-family: sans-serif; overflow: hidden; }</style>
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
</head>
<body>
    <div style="position:absolute; top:20px; left:20px; z-index:100; pointer-events:none;">
        <h1>ENGINE SHOWCASE: "GLORIOUS GOLD"</h1>
        <p style="opacity:0.7;">
        <b>Mesh:</b> Catmull-Clark SubD (L2) + Sculpt<br>
        <b>Material:</b> PBR "CyberGold"<br>
        <b>Stage:</b> Studio Room (Procedural Instancing)<br>
        <b>Lighting:</b> 3-Point Setup
        </p>
    </div>
    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // --- DATA INJECTION ---
        const SCENE_DATA = {"meshes": [{"verts": [-0.16319444444444442, -0.16319444444444442, -0.3819444444444444, 0.16319444444444442, -0.16319444444444442, -0.3819444444444444, 0.16319444444444442, 0.16319444444444442, -0.3819444444444444, -0.16319444444444442, 0.16319444444444442, -0.3819444444444444, -0.16319444444444442, -0.16319444444444442, 0.3819444444444444, 0.16319444444444442, -0.16319444444444442, 0.3819444444444444, 0.16319444444444442, 0.16319444444444442, 0.3819444444444444, -0.16319444444444442, 0.16319444444444442, 0.3819444444444444, -0.3819444444444444, -0.16319444444444442, -0.16319444444444442, -0.3819444444444444, -0.16319444444444442, 0.16319444444444442, -0.3819444444444444, 0.16319444444444442, 0.16319444444444442, -0.3819444444444444, 0.16319444444444442, -0.16319444444444442, 0.3819444444444444, -0.16319444444444442, -0.16319444444444442, 0.3819444444444444, -0.16319444444444442, 0.16319444444444442, 0.3819444444444444, 0.16319444444444442, 0.16319444444444442, 0.3819444444444444, 0.16319444444444442, -0.16319444444444442, -0.16319444444444442, -0.3819444444444444, -0.16319444444444442, 0.16319444444444442, -0.3819444444444444, -0.16319444444444442, 0.16319444444444442, -0.3819444444444444, 0.16319444444444442, -0.16319444444444442, -0.3819444444444444, 0.16319444444444442, -0.16319444444444442, 0.3819444444444444, -0.16319444444444442, 0.16319444444444442, 0.3819444444444444, -0.16319444444444442, 0.16319444444444442, 0.3819444444444444, 0.16319444444444442, -0.16319444444444442, 0.3819444444444444, 0.16319444444444442, -0.15104166666666663, -0.29947916666666663, -0.29947916666666663, 0.0, -0.1753472222222222, -0.4097222222222222, -0.1753472222222222, 0.0, -0.4097222222222222, -0.29947916666666663, -0.15104166666666663, -0.29947916666666663, 0.29947916666666663, -0.15104166666666663, -0.29947916666666663, 0.1753472222222222, 0.0, -0.4097222222222222, 0.15104166666666663, -0.29947916666666663, -0.29947916666666663, 0.15104166666666663, 0.29947916666666663, -0.29947916666666663, 0.0, 0.1753472222222222, -0.4097222222222222, 0.29947916666666663, 0.15104166666666663, -0.29947916666666663, -0.29947916666666663, 0.15104166666666663, -0.29947916666666663, -0.15104166666666663, 0.29947916666666663, -0.29947916666666663, -0.15104166666666663, -0.29947916666666663, 0.29947916666666663, 0.0, -0.1753472222222222, 0.4097222222222222, -0.1753472222222222, 0.0, 0.4097222222222222, -0.29947916666666663, -0.15104166666666663, 0.29947916666666663, 0.29947916666666663, -0.15104166666666663, 0.29947916666666663, 0.1753472222222222, 0.0, 0.4097222222222222, 0.15104166666666663, -0.29947916666666663, 0.29947916666666663, 0.15104166666666663, 0.29947916666666663, 0.29947916666666663, 0.0, 0.1753472222222222, 0.4097222222222222, 0.29947916666666663, 0.15104166666666663, 0.29947916666666663, -0.29947916666666663, 0.15104166666666663, 0.29947916666666663, -0.15104166666666663, 0.29947916666666663, 0.29947916666666663, -0.29947916666666663, -0.29947916666666663, -0.15104166666666663, -0.4097222222222222, -0.1753472222222222, 0.0, -0.4097222222222222, 0.0, -0.1753472222222222, -0.4097222222222222, 0.0, 0.1753472222222222, -0.29947916666666663, -0.29947916666666663, 0.15104166666666663, -0.29947916666666663, 0.29947916666666663, 0.15104166666666663, -0.4097222222222222, 0.1753472222222222, 0.0, -0.29947916666666663, 0.29947916666666663, -0.15104166666666663, 0.29947916666666663, -0.29947916666666663, -0.15104166666666663, 0.4097222222222222, -0.1753472222222222, 0.0, 0.4097222222222222, 0.0, -0.1753472222222222, 0.4097222222222222, 0.0, 0.1753472222222222, 0.29947916666666663, -0.29947916666666663, 0.15104166666666663, 0.29947916666666663, 0.29947916666666663, 0.15104166666666663, 0.4097222222222222, 0.1753472222222222, 0.0, 0.29947916666666663, 0.29947916666666663, -0.15104166666666663, 0.0, -0.4097222222222222, -0.1753472222222222, -0.1753472222222222, -0.4097222222222222, 0.0, 0.1753472222222222, -0.4097222222222222, 0.0, 0.0, -0.4097222222222222, 0.1753472222222222, 0.0, 0.4097222222222222, -0.1753472222222222, -0.1753472222222222, 0.4097222222222222, 0.0, 0.1753472222222222, 0.4097222222222222, 0.0, 0.0, 0.4097222222222222, 0.1753472222222222, 0.0, 0.0, -0.4392361111111111, 0.0, 0.0, 0.4392361111111111, -0.4392361111111111, 0.0, 0.0, 0.4392361111111111, 0.0, 0.0, 0.0, -0.4392361111111111, 0.0, 0.0, 0.4392361111111111, 0.0, 0.0, -0.3216145833333333, -0.3216145833333333, 0.3216145833333333, 0.0, -0.3216145833333333, 0.0, 0.3216145833333333, -0.3216145833333333, -0.3216145833333333, 0.0, -0.3216145833333333, 0.0, -0.3216145833333333, 0.3216145833333333, 0.3216145833333333, 0.0, 0.3216145833333333, 0.0, 0.3216145833333333, 0.3216145833333333, -0.3216145833333333, 0.0, 0.3216145833333333, -0.3216145833333333, -0.3216145833333333, 0.0, -0.3216145833333333, 0.3216145833333333, 0.0, 0.3216145833333333, -0.3216145833333333, 0.0, 0.3216145833333333, 0.3216145833333333, 0.0, -0.2546296296296296, -0.2546296296296296, -0.2546296296296296, 0.2546296296296296, -0.2546296296296296, -0.2546296296296296, 0.2546296296296296, 0.2546296296296296, -0.2546296296296296, -0.2546296296296296, 0.2546296296296296, -0.2546296296296296, -0.2546296296296296, -0.2546296296296296, 0.2546296296296296, 0.2546296296296296, -0.2546296296296296, 0.2546296296296296, 0.2546296296296296, 0.2546296296296296, 0.2546296296296296, -0.2546296296296296, 0.2546296296296296, 0.2546296296296296], "indices": [90, 24, 0, 90, 0, 27, 78, 25, 0, 78, 0, 24, 72, 26, 0, 72, 0, 25, 81, 27, 0, 81, 0, 26, 91, 28, 1, 91, 1, 30, 79, 29, 1, 79, 1, 28, 72, 25, 1, 72, 1, 29, 78, 30, 1, 78, 1, 25, 92, 31, 2, 92, 2, 33, 80, 32, 2, 80, 2, 31, 72, 29, 2, 72, 2, 32, 79, 33, 2, 79, 2, 29, 93, 34, 3, 93, 3, 35, 81, 26, 3, 81, 3, 34, 72, 32, 3, 72, 3, 26, 80, 35, 3, 80, 3, 32, 94, 36, 4, 94, 4, 39, 82, 37, 4, 82, 4, 36, 73, 38, 4, 73, 4, 37, 85, 39, 4, 85, 4, 38, 95, 40, 5, 95, 5, 42, 83, 41, 5, 83, 5, 40, 73, 37, 5, 73, 5, 41, 82, 42, 5, 82, 5, 37, 96, 43, 6, 96, 6, 45, 84, 44, 6, 84, 6, 43, 73, 41, 6, 73, 6, 44, 83, 45, 6, 83, 6, 41, 97, 46, 7, 97, 7, 47, 85, 38, 7, 85, 7, 46, 73, 44, 7, 73, 7, 38, 84, 47, 7, 84, 7, 44, 90, 48, 8, 90, 8, 27, 86, 49, 8, 86, 8, 48, 74, 50, 8, 74, 8, 49, 81, 27, 8, 81, 8, 50, 94, 39, 9, 94, 9, 52, 85, 51, 9, 85, 9, 39, 74, 49, 9, 74, 9, 51, 86, 52, 9, 86, 9, 49, 97, 53, 10, 97, 10, 46, 87, 54, 10, 87, 10, 53, 74, 51, 10, 74, 10, 54, 85, 46, 10, 85, 10, 51, 93, 34, 11, 93, 11, 55, 81, 50, 11, 81, 11, 34, 74, 54, 11, 74, 11, 50, 87, 55, 11, 87, 11, 54, 91, 56, 12, 91, 12, 28, 88, 57, 12, 88, 12, 56, 75, 58, 12, 75, 12, 57, 79, 28, 12, 79, 12, 58, 95, 40, 13, 95, 13, 60, 83, 59, 13, 83, 13, 40, 75, 57, 13, 75, 13, 59, 88, 60, 13, 88, 13, 57, 96, 61, 14, 96, 14, 45, 89, 62, 14, 89, 14, 61, 75, 59, 14, 75, 14, 62, 83, 45, 14, 83, 14, 59, 92, 33, 15, 92, 15, 63, 79, 58, 15, 79, 15, 33, 75, 62, 15, 75, 15, 58, 89, 63, 15, 89, 15, 62, 90, 24, 16, 90, 16, 48, 78, 64, 16, 78, 16, 24, 76, 65, 16, 76, 16, 64, 86, 48, 16, 86, 16, 65, 91, 56, 17, 91, 17, 30, 88, 66, 17, 88, 17, 56, 76, 64, 17, 76, 17, 66, 78, 30, 17, 78, 17, 64, 95, 42, 18, 95, 18, 60, 82, 67, 18, 82, 18, 42, 76, 66, 18, 76, 18, 67, 88, 60, 18, 88, 18, 66, 94, 52, 19, 94, 19, 36, 86, 65, 19, 86, 19, 52, 76, 67, 19, 76, 19, 65, 82, 36, 19, 82, 19, 67, 93, 35, 20, 93, 20, 55, 80, 68, 20, 80, 20, 35, 77, 69, 20, 77, 20, 68, 87, 55, 20, 87, 20, 69, 92, 63, 21, 92, 21, 31, 89, 70, 21, 89, 21, 63, 77, 68, 21, 77, 21, 70, 80, 31, 21, 80, 21, 68, 96, 43, 22, 96, 22, 61, 84, 71, 22, 84, 22, 43, 77, 70, 22, 77, 22, 71, 89, 61, 22, 89, 22, 70, 97, 53, 23, 97, 23, 47, 87, 69, 23, 87, 23, 53, 77, 71, 23, 77, 23, 69, 84, 47, 23, 84, 23, 71], "material": {"id": "4d1343a0-d9e9-4217-8a6f-a233b292575f", "name": "CyberGold", "type": "PBR", "base_color": [1.0, 0.85, 0.5, 1.0], "metallic": 1.0, "roughness": 0.15, "emissive_factor": [0.0, 0.0, 0.0], "base_color_map": null, "metallic_roughness_map": null, "normal_map": null, "occlusion_map": null, "emissive_map": null, "tags": []}}], "lights": [{"id": "b69e5e6f-189f-412d-9d99-01b29865b53c", "name": null, "kind": "point", "color": {"x": 1.0, "y": 0.95, "z": 0.8}, "intensity": 8.0, "position": {"x": 4.0, "y": 5.0, "z": 4.0}, "direction": null, "range": null, "angle_deg": null, "meta": {}}, {"id": "fbe9cd4a-a812-480e-b74e-cdfb9834dc33", "name": null, "kind": "point", "color": {"x": 0.8, "y": 0.9, "z": 1.0}, "intensity": 4.0, "position": {"x": -4.0, "y": 3.0, "z": 2.0}, "direction": null, "range": null, "angle_deg": null, "meta": {}}, {"id": "7ded8709-18ca-4037-aa0e-813e7af92fe8", "name": null, "kind": "spot", "color": {"x": 1.0, "y": 1.0, "z": 1.0}, "intensity": 10.0, "position": {"x": 0.0, "y": 5.0, "z": -5.0}, "direction": null, "range": null, "angle_deg": null, "meta": {}}], "props": [{"name": "Concrete Floor_5e14", "pos": [0.0, -2.0, 0.0], "rot": [0.0, 0.0, 0.0, 1.0], "scale": [1.0, 1.0, 1.0]}, {"name": "Concrete Floor_d365", "pos": [0.0, 3.0, -5.0], "rot": [0.707, 0.0, 0.0, 0.707], "scale": [1.0, 1.0, 1.0]}, {"name": "Concrete Floor_b309", "pos": [-5.0, 3.0, 0.0], "rot": [0.0, 0.0, -0.707, 0.707], "scale": [1.0, 1.0, 1.0]}, {"name": "Concrete Floor_dab7", "pos": [5.0, 3.0, 0.0], "rot": [0.0, 0.0, 0.707, 0.707], "scale": [1.0, 1.0, 1.0]}], "animation": [{"root": [0.0, 0.0, 0.0, 1.0]}, {"root": [0.0, 0.005226399369688982, 0.0, 0.9999863422815476]}, {"root": [0.0, 0.010395397303253019, 0.0, 0.9999459663976387]}, {"root": [0.0, 0.015450234965727304, 0.0, 0.9998806379961079]}, {"root": [0.0, 0.020335430342086503, 0.0, 0.9997932137561257]}, {"root": [0.0, 0.02499739591471233, 0.0, 0.9996875162757026]}, {"root": [0.0, 0.029385032072118483, 0.0, 0.999568166705063]}, {"root": [0.0, 0.033450289131708125, 0.0, 0.9994403824926252]}, {"root": [0.0, 0.03714869160772468, 0.0, 0.9993097491327873]}, {"root": [0.0, 0.04043981919420782, 0.0, 0.9991819759300804]}, {"root": [0.0, 0.04328773981082307, 0.0, 0.99906264647522]}, {"root": [0.0, 0.045661390927748555, 0.0, 0.9989569747384235]}, {"root": [0.0, 0.04753490620134353, 0.0, 0.9988695774186085]}, {"root": [0.0, 0.04888788518191403, 0.0, 0.9988042724590439]}, {"root": [0.0, 0.04970560447790808, 0.0, 0.9987639124855712]}, {"root": [0.0, 0.04997916927067833, 0.0, 0.9987502603949663]}, {"root": [0.0, 0.04970560447790809, 0.0, 0.9987639124855712]}, {"root": [0.0, 0.04888788518191403, 0.0, 0.9988042724590439]}, {"root": [0.0, 0.047534906201343534, 0.0, 0.9988695774186085]}, {"root": [0.0, 0.04566139092774857, 0.0, 0.9989569747384235]}, {"root": [0.0, 0.043287739810823074, 0.0, 0.99906264647522]}, {"root": [0.0, 0.04043981919420782, 0.0, 0.9991819759300804]}, {"root": [0.0, 0.037148691607724695, 0.0, 0.9993097491327873]}, {"root": [0.0, 0.03345028913170811, 0.0, 0.9994403824926252]}, {"root": [0.0, 0.02938503207211849, 0.0, 0.999568166705063]}, {"root": [0.0, 0.02499739591471233, 0.0, 0.9996875162757026]}, {"root": [0.0, 0.0203354303420865, 0.0, 0.9997932137561257]}, {"root": [0.0, 0.01545023496572731, 0.0, 0.9998806379961079]}, {"root": [0.0, 0.010395397303253019, 0.0, 0.9999459663976387]}, {"root": [0.0, 0.005226399369688996, 0.0, 0.9999863422815476]}, {"root": [0.0, 6.123233995736766e-18, 0.0, 1.0]}, {"root": [0.0, -0.005226399369688985, 0.0, 0.9999863422815476]}, {"root": [0.0, -0.010395397303253007, 0.0, 0.9999459663976387]}, {"root": [0.0, -0.015450234965727321, 0.0, 0.9998806379961079]}, {"root": [0.0, -0.02033543034208649, 0.0, 0.9997932137561257]}, {"root": [0.0, -0.02499739591471234, 0.0, 0.9996875162757026]}, {"root": [0.0, -0.02938503207211848, 0.0, 0.999568166705063]}, {"root": [0.0, -0.033450289131708125, 0.0, 0.9994403824926252]}, {"root": [0.0, -0.037148691607724674, 0.0, 0.9993097491327873]}, {"root": [0.0, -0.04043981919420781, 0.0, 0.9991819759300804]}, {"root": [0.0, -0.04328773981082305, 0.0, 0.99906264647522]}, {"root": [0.0, -0.04566139092774857, 0.0, 0.9989569747384235]}, {"root": [0.0, -0.04753490620134353, 0.0, 0.9988695774186085]}, {"root": [0.0, -0.048887885181914024, 0.0, 0.9988042724590439]}, {"root": [0.0, -0.04970560447790808, 0.0, 0.9987639124855712]}, {"root": [0.0, -0.04997916927067833, 0.0, 0.9987502603949663]}, {"root": [0.0, -0.04970560447790808, 0.0, 0.9987639124855712]}, {"root": [0.0, -0.048887885181914024, 0.0, 0.9988042724590439]}, {"root": [0.0, -0.047534906201343534, 0.0, 0.9988695774186085]}, {"root": [0.0, -0.04566139092774857, 0.0, 0.9989569747384235]}, {"root": [0.0, -0.04328773981082307, 0.0, 0.99906264647522]}, {"root": [0.0, -0.04043981919420782, 0.0, 0.9991819759300804]}, {"root": [0.0, -0.037148691607724674, 0.0, 0.9993097491327873]}, {"root": [0.0, -0.03345028913170815, 0.0, 0.9994403824926252]}, {"root": [0.0, -0.029385032072118497, 0.0, 0.999568166705063]}, {"root": [0.0, -0.024997395914712353, 0.0, 0.9996875162757026]}, {"root": [0.0, -0.020335430342086503, 0.0, 0.9997932137561257]}, {"root": [0.0, -0.015450234965727318, 0.0, 0.9998806379961079]}, {"root": [0.0, -0.010395397303253047, 0.0, 0.9999459663976387]}, {"root": [0.0, -0.005226399369689025, 0.0, 0.9999863422815476]}]};
        
        // --- SETUP ---
        const scene = new THREE.Scene();
        // Remove fog for studio look, or keep it subtle
        // scene.fog = new THREE.FogExp2(0x111111, 0.02);
        
        const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 1, 5);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.outputColorSpace = THREE.SRGBColorSpace;
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.0;
        controls.target.set(0, 0, 0);

        // --- STAGE: LIGHTS ---
        SCENE_DATA.lights.forEach(l => {
            const color = new THREE.Color(l.color.x, l.color.y, l.color.z);
            let light;
            if (l.kind === 'directional') {
                light = new THREE.DirectionalLight(color, l.intensity);
                light.position.set(l.position.x, l.position.y, l.position.z);
            } else if (l.kind === 'spot') {
                light = new THREE.SpotLight(color, l.intensity);
                light.position.set(l.position.x, l.position.y, l.position.z);
                light.angle = Math.PI / 4;
                light.penumbra = 0.5;
            } else {
                light = new THREE.PointLight(color, l.intensity);
                light.position.set(l.position.x, l.position.y, l.position.z);
            }
            scene.add(light);
            // Helpers
            // const helper = new THREE.PointLightHelper(light, 0.2);
            // scene.add(helper);
        });
        
        scene.add(new THREE.AmbientLight(0x404040, 2.0)); // Brighter Ambient

        // --- MESH: THE AVATAR ---
        const meshData = SCENE_DATA.meshes[0];
        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute('position', new THREE.Float32BufferAttribute(meshData.verts, 3));
        geometry.setIndex(meshData.indices);
        geometry.computeVertexNormals();

        const matData = meshData.material;
        const material = new THREE.MeshStandardMaterial({
            color: new THREE.Color(matData.base_color[0], matData.base_color[1], matData.base_color[2]),
            metalness: matData.metallic,
            roughness: matData.roughness,
            side: THREE.DoubleSide
        });

        const avatar = new THREE.Mesh(geometry, material);
        scene.add(avatar);

        // --- STAGE: PROPS (The Room) ---
        const propGeo = new THREE.PlaneGeometry(1, 1);
        const propMat = new THREE.MeshStandardMaterial({ color: 0x888888, roughness: 0.8 });
        
        SCENE_DATA.props.forEach(p => {
            const mesh = new THREE.Mesh(propGeo, propMat);
            mesh.position.set(p.pos[0], p.pos[1], p.pos[2]);
            mesh.quaternion.set(p.rot[0], p.rot[1], p.rot[2], p.rot[3]);
            // Apply scale explicitly because we are using PlaneGeometry
            // Our service defaults props [5,10,5] for buildings but for floor tiles?
            // Let's assume tiles are huge panels (10x10)
            mesh.scale.set(10, 10, 1); 
            
            scene.add(mesh);
        });

        // --- ANIMATION LOOP ---
        const clock = new THREE.Clock();
        const animData = SCENE_DATA.animation;
        const totalFrames = animData.length;

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            
            const t = clock.getElapsedTime();
            const frameIdx = Math.floor((t % 1.0) * 60) % totalFrames;
            const pose = animData[frameIdx];
            
            if (pose && pose.root) {
                avatar.position.y = Math.sin(t) * 0.1;
                avatar.rotation.y = Math.sin(t * 0.5) * 0.2;
            }

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
    