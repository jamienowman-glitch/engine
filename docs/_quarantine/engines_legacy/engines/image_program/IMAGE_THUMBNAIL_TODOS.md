# IMAGE_THUMBNAIL_TODOS

For feral workers implementing PHASE_I_COMFORT_social_thumbnails. Obey allow-list and STOP RULE in the phase doc. Engines-only; no auth/UI/core/connector/orchestration changes.

- [ ] **T01.1 [BLOCKER] Social preset definitions** — Allowed: engines/image_core/auto_crop.py, service.py, models.py; tests/test_social_presets.py. Define presets `youtube_thumb_16_9` (1280x720), `social_vertical_story_9_16` (1080x1920), `social_square_1_1` (1080x1080), `social_4_3_comfort` (1440x1080); include safe_title_box defaults (90% width, 80% height, centered; 5% horizontal/10% vertical margins). Tests assert dimensions/aspect and safe-title meta. STOP if other files needed.  
- [ ] **T01.2 [BLOCKER] Subject cutout primitive** — Allowed: engines/image_core/service.py, models.py; tests/test_subject_cutout.py. Implement person/face detector-backed mask producer; register mask artifact; apply mask to foreground layer; on missing detector/deps, fail clearly (no stub/full-frame fallback). Tests may use synthetic masks but must assert production routes error on missing backend. STOP on expansion.  
- [ ] **T01.3 [BLOCKER] Layer adjustment presets** — Allowed: engines/image_core/service.py, models.py; tests/test_recipe_no_code_thumb.py (or new tests). Add presets: background drama (darken/blur with optional B&W), subject pop (brightness/contrast), B&W background/color subject toggle. Tests assert params applied and deterministic output meta. STOP if more files needed.  
- [ ] **T01.4 [BLOCKER] Typography thumbnail styles** — Allowed: engines/typography_core/service.py, models.py; tests/test_thumbnail_text_styles.py. Add headline style with defaults: text #FFFFFF, overlay #FFFFFF @90%, outer glow #FFFFFF @75%, radius=0.03*min(w,h); support color swap. Tests assert style fields and deterministic layout hash. STOP if expansion required.  
- [ ] **T01.5 [BLOCKER] No-Code-Man recipe wiring** — Allowed: engines/image_core/service.py, models.py; tests/test_recipe_no_code_thumb.py. Implement recipe planner: input image + title + preset -> cutout -> background preset -> foreground preset -> text preset -> optional extend-canvas; output composition artifact with meta (preset_id, recipe_id, subject_mask_id). Tests assert pipeline steps and deterministic outputs. STOP on expansion.  
- [ ] **T01.6 [BLOCKER] Minimal extend-canvas primitive** — Allowed: engines/image_core/service.py; tests/test_recipe_no_code_thumb.py. Implement mirror/blur edge extension; document future generative fill hook; deterministic outputs. Tests assert canvas size change and deterministic result. STOP if more files needed.  
- [ ] **T01.7 [QUALITY] HTTP endpoints + examples** — Allowed: engines/image_core/routes.py; docs/engines/image_program/PHASE_I_COMFORT_social_thumbnails.md. Add/extend endpoints to expose presets/recipe; ensure tenant/env required but no new auth; add doc examples (YouTube thumbnail, IG story cover). STOP on expansion.  
